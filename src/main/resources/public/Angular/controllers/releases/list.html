<h1>Releases</h1>

<div class="create-new-btn-container" ng-show="ctrl.isGodMode()">
    <a href="#/Releases/New" class="btn btn-default">Create New</a>
</div>
<hr />

<div load-screen ls-show="ctrl.isLoading()" ls-class="default-load-screen">
    <div class="row">
        <div ng-repeat="model in ctrl.getEntries()" class="col-lg-4 col-sm-6 list-cell">
            <div class="list-item">
                <article>
                    <a href="#/Releases/{{model.id}}" class="thumb1">
                        <img ng-src="{{model.thumbnailUrl}}"/>
                    </a>
                    <div class="body">
                        <!--a directive?-->
                        <div ng-show="ctrl.isGodMode()">
                            <div class="edit-btn-block">
                                <div class="edit-btn-container glyphicon">
                                    <a href="#/Releases/Edit/{{model.id}}" class="glyphicon-pencil right-top-btn"></a>
                                </div>
                            </div>
                        </div>

                        <header>
                            <a href="#/Releases/{{model.id}}" class="title on-top">{{model.title}}</a>
                            <a href="#/Artists/{{model.artist.id}}" class="label-wrap invert no-left-pad subtitle on-top">{{model.artist.name}}</a>
                        </header>
                        <div>
                            <span class="text-muted on-top versions-menu-trigger">
                                <!--@(Model.OtherVersions.Count > 0 ? " badge" : "" )">-->
                                {{model.media.name}}

                                <!--@{
                                    if (Model.OtherVersions.Count > 0)
                                    {
                                    <span class="versions-menu frame">
                                        @Html.ActionLink($"{Model.Media.Name} ({Model.CatalogueNumber})", "View", new { id = Model.Id }, new { @class = "" })
                                        @foreach (Release item in Model.OtherVersions)
                                        {
                                        @Html.ActionLink($"{item.Media.Name} ({item.CatalogueNumber})", "View", new { id = item.Id }, new { @class = "" })
                                        }
                                    </span>
                                    }
                                }-->

                            </span>
                            <span class="text-muted on-top">{{model.catalogueNumber}}</span>
                        </div>
                        <p class="summary">
                            Some text here...
                            <!--@if (String.IsNullOrWhiteSpace(Model.Text) == false)
                            {
                            @Html.ActionLink(Model.Text, "View", "Release", new { id = Model.Id }, new { @class = "default-text-style" })
                            }-->
                        </p>
                    </div>
                </article>
                <a href="#/Releases/{{model.id}}">
                    <div class="list-item-front-panel"></div>
                </a>
            </div>
        </div>
    </div>
</div>

<div ng-show="ctrl.areMoreItemsAvailable()"
     loader-button lbtn-text="Load More" lbtn-click="ctrl.loadMore()" lbtn-is-busy="ctrl.isLoading()" class="row button-bar bottom dark-blanket"/>